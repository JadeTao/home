<!DOCTYPE html>
<html lang="en">
<head>

  
  <meta charset="utf-8">
  <title>&lt;è¯‘&gt; è‹±é›„é¡¹ç›®çš„ NativeScript è¿ç§» - Jader</title>
  <meta name="description" content="&lt;è¯‘&gt; è‹±é›„é¡¹ç›®çš„ NativeScript è¿ç§»">
  <meta name="author" content="Jader Tao">

  
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://blog.jader.xyz/css/fonts.css">
  
  
  <link rel="stylesheet" href="https://unpkg.com/purecss@0.6.1/build/pure-min.css" integrity="sha384-CCTZv2q9I9m3UOxRLaJneXrrqKwUNOzZ6NGEUMwHtShDJ+nCoiXJCAgi05KfkLGY" crossorigin="anonymous">
  
  
    <link rel="stylesheet" href="https://unpkg.com/purecss@0.6.1/build/grids-responsive-min.css">
  
  <link rel="stylesheet" href="https://blog.jader.xyz/css/custom.css">

  
  
  <link rel="stylesheet" href="https://blog.jader.xyz/highlight/styles/github-gist.css">
  
  <script src="https://blog.jader.xyz/highlight/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  <meta name="generator" content="Hugo 0.52" />
  
</head>
<body>

<div class="header pure-g">
    <div class="pure-u-1-24 pure-u-md-5-24"></div>
    <div class="pure-u-11-12 pure-u-md-5-8">
        <div class="desktop pure-menu pure-menu-horizontal nav-menu">
            
            <a href="https://blog.jader.xyz/" class="site-title pure-menu-heading">Jader</a>
            <ul class="pure-menu-list">
				
                <li class="pure-menu-item">
                    <a href="https://blog.jader.xyz/about/" class="pure-menu-link">About</a>
                </li>
            </ul>
        </div>
        <div class="mobile pure-menu nav-menu">
            <a href="/" class="pure-menu-heading" id="toggle-home">Jader</a>
            <a href="#" id="toggle-btn">&#9776;</a>
            <ul class="pure-menu-list" id="toggle-content" style="display:none;">
                
				
                <li class="pure-menu-item">
                    <a href="https://blog.jader.xyz/about" class="pure-menu-link">About</a>
                </li>
            </ul>
        </div>
    </div>
    <div class="pure-u-1-24 pure-u-md-1-6"></div>
</div>

<div class="pure-g">
    <div class="pure-u-1-24 pure-u-md-5-24"></div>
	<div class="pure-u-11-12 pure-u-md-5-8">
        <div class="post">

            <div class="post-title">
                <p class="footnote">
                    <time class="">2019-01-07</time>
		            
                    
                    

                    

                    
                </p>
                <h1>&lt;è¯‘&gt; è‹±é›„é¡¹ç›®çš„ NativeScript è¿ç§»</h1>
            </div>

            <div class="post-content">
                

<blockquote>
<p>è¯‘è€…æ³¨: æœ¬æ–‡æ˜¯æˆ‘ä¸º <a href="https://github.com/sis0k0">Stanimira Vlaeva</a> from <code>NativeScript</code> åœ¨ <a href="https://github.com/ngChina/ng-china-2018">ng china 2018</a> workshop ç¿»è¯‘çš„è®²ç¨¿ã€‚<a href="https://github.com/ngChina/ng-china-2018/blob/master/From%20web%20to%20mobile%20with%20NativeScript%20and%20Angular/tutorial.md">åŸæ–‡</a>ï¼Œ<a href="https://github.com/ngChina/ng-china-2018/blob/master/From%20web%20to%20mobile%20with%20NativeScript%20and%20Angular/tutorial-zh.md">ç¿»è¯‘</a>ã€‚</p>
</blockquote>

<h1> è‹±é›„é¡¹ç›®çš„ NativeScript è¿ç§»ä¹‹æ—… </h1>

<blockquote>
<p>æ¬¢è¿æ¥åˆ°è‹±é›„é¡¹ç›® NativeScript åŒ–è¿ç§»ä¹‹æ—…çš„æ•™ç¨‹ï¼ä½ å¯ä»¥å­¦åˆ°å¦‚ä½•å°†ä½ çš„ Angular web é¡¹ç›®æ‰©å±•æˆèƒ½è¿è¡Œåœ¨ Android å’Œ iOS ä¸Šçš„åº”ç”¨ã€‚</p>
</blockquote>

<h1 id="å‡†å¤‡">å‡†å¤‡</h1>

<h2 id="nativescript-é…ç½®">NativeScript é…ç½®</h2>

<p>ä½ éœ€è¦ NativeScript CLI å’Œä¸€å° Android æˆ– iOS ç‰©ç†è®¾å¤‡æ¥å®Œæˆè¿™ä¸ªæ•™ç¨‹ã€‚</p>

<ol>
<li>è¿è¡Œä¸‹é¢çš„å‘½ä»¤æ¥å®‰è£…  NativeScript CLI:</li>
</ol>

<pre><code class="language-bash">npm install -g nativescript@latest
</code></pre>

<ol>
<li>åœ¨ç­‰å¾… <code>npm install</code> çš„è¿‡ç¨‹ä¸­ï¼Œä½ å¯ä»¥æ‹¿èµ·æ‰‹æœºå®‰è£…ä¸¤ä¸ªé…åˆè¿è¡Œçš„ appï¼š</li>
</ol>

<table>
<thead>
<tr>
<th>app</th>
<th>Android</th>
<th>iOS</th>
</tr>
</thead>

<tbody>
<tr>
<td>NativeScript Preview</td>
<td><a href="https://play.google.com/store/apps/details?id=org.nativescript.preview">Google Play</a></td>
<td><a href="https://itunes.apple.com/us/app/nativescript-preview/id1264484702">App Store</a></td>
</tr>

<tr>
<td>NativeScript Playground</td>
<td><a href="https://play.google.com/store/apps/details?id=org.nativescript.play">Google Play</a></td>
<td><a href="https://itunes.apple.com/us/app/nativescript-playground/id1263543946">App Store</a></td>
</tr>
</tbody>
</table>

<h2 id="angular-é…ç½®">Angular é…ç½®</h2>

<p>Angular CLI æä¾›äº†ä¸€äº›æ–¹ä¾¿è¿ç§»å’Œç®¡ç† Angular é¡¹ç›®çš„å‘½ä»¤ã€‚ NativeScript ç”¨è‡ªèº«çš„ <code>schematics</code> é›†åˆæ‰©å±•äº† Angular CLI çš„å†…ç½®å‘½ä»¤ã€‚é€šè¿‡æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤æ¥å®‰è£… Angular CLI å’Œ NativeScript æ‰©å±•ã€‚</p>

<pre><code class="language-bash">npm install -g @angular/cli @nativescript/schematics
</code></pre>

<h2 id="åº”ç”¨">åº”ç”¨</h2>

<p>ä»Šå¤©ä½ å°†ä¼šå¯¹ <a href="https://angular.io/tutorial">Angular å®˜æ–¹æ–‡æ¡£æ•™ç¨‹</a> ä¸­çš„è‹±é›„ä¹‹æ—…é¡¹ç›®è¿›è¡Œè¿ç§»ã€‚</p>

<p>é¦–å…ˆå…‹éš†è¿™ä¸ªé¡¹ç›®çš„ web å®Œå…¨ç‰ˆã€‚</p>

<pre><code class="language-bash">git clone https://github.com/sebawita/tour-of-heroes/
cd tour-of-heroes
npm install
</code></pre>

<h1 id="å°†é¡¹ç›®è½¬æ¢æˆä»£å¯ä»¥è¿›è¡Œä»£ç å…±äº«çš„ç»“æ„">å°†é¡¹ç›®è½¬æ¢æˆä»£å¯ä»¥è¿›è¡Œä»£ç å…±äº«çš„ç»“æ„</h1>

<p>Angular CLI æä¾›çš„ <strong>ng add</strong> å‘½ä»¤è®©ä½ å¯ä»¥ä¸º Angular é¡¹ç›®æ·»åŠ ä¸åŒçš„åŠŸèƒ½ï¼Œæ¯”å¦‚ Angular material, ngRx, Firebase, Angular Apolloï¼Œå½“ç„¶ä¹ŸåŒ…æ‹¬ NativeScriptã€‚
ä½ å¯ä»¥ä½¿ç”¨ <strong>ng add</strong> å‘½ä»¤å°† web é¡¹ç›®è½¬æ¢æˆä¾› Web å’Œ NativeScript å…±äº«ä»£ç çš„é¡¹ç›®ç»“æ„ã€‚åœ¨é¡¹ç›®ä¸­è¿è¡Œä¸‹é¢çš„å‘½ä»¤å³å¯ï¼š</p>

<pre><code class="language-bash">ng add @nativescript/schematics
</code></pre>

<h2 id="éªŒè¯è¿ç§»">éªŒè¯è¿ç§»</h2>

<p>ç¡®ä¿è½¬æ¢é¡ºåˆ©æœ€ç®€å•çš„æ–¹å¼å°±æ˜¯è¿è¡Œä¸€ä¸‹ web å’Œç§»åŠ¨é¡¹ç›®ï¼Œäº²çœ¼çœ‹ä¸€ä¸‹å®ƒä»¬æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚
1. Web ç«¯</p>

<p>è¿è¡Œä¸‹é¢çš„å‘½ä»¤æ¥å¯åŠ¨ web ç«¯åº”ç”¨:</p>

<pre><code class="language-bash">ng serve --open
</code></pre>

<p>å½“æ„å»ºå®Œæˆæ—¶ï¼Œä½ çš„æµè§ˆå™¨ä¼šè‡ªåŠ¨æ‰“å¼€ä¸€ä¸ªæ–°çš„æ ‡ç­¾é¡µï¼Œé¡µé¢ä¸­è¿è¡Œç€ä¹‹å‰çš„è‹±é›„ä¹‹æ—…åº”ç”¨ã€‚</p>

<ol>
<li>ç§»åŠ¨ç«¯</li>
</ol>

<p>è¿è¡Œä¸‹é¢çš„å‘½ä»¤æ¥å¯åŠ¨ç§»åŠ¨ç«¯åº”ç”¨:</p>

<pre><code>tns preview --bundle
</code></pre>

<p>æ­¤å‘½ä»¤ä¼šåœ¨å‘½ä»¤è¡Œç»ˆç«¯è¾“å‡ºä¸€ä¸ªäºŒç»´ç ã€‚æ‰“å¼€ä½ æ‰‹æœºä¸­çš„ <strong>NativeScript Playground</strong> åº”ç”¨ï¼Œç”¨ <strong>Scan QR code</strong> åŠŸèƒ½æ‰«æå‘½ä»¤è¡Œä¸­çš„äºŒç»´ç ã€‚</p>

<p>æ‰«æä¹‹åï¼Œ<strong>NativeScript Preview</strong> åº”ç”¨å³ä¼šå¯åŠ¨ã€‚ä¸€å¼€å§‹åº”ç”¨å¯èƒ½ä¼šç™½å±ã€‚å…ˆä¸è¦å¤±æœ›å“¦ï¼Œç­‰å‡ ç§’ï¼ˆWiFi ä¿¡å·å·®æ—¶å¯èƒ½æ…¢è‡³ä¸€åˆ†é’Ÿï¼‰ä½ å°±ä¼šçœ‹åˆ°ä¸€ä¸ªå¤§æŒ‰é’®ï¼Œå‘Šè¯‰ä½  <strong>AUTO-GENERATED WORKS!</strong>ã€‚è¿™æ ·ä½ å°±å¾—åˆ°äº†ä½ ç¬¬ä¸€ä¸ª NativeScript Angularã€‚çˆ½ä¸çˆ½ï¼Ÿ
&gt; æç¤ºï¼šå¦‚æœæ— æ³•æ‰«æäºŒç»´ç ï¼Œå¯ä»¥è¯•ç€æ›´æ¢å‘½ä»¤è¡Œçš„é¢œè‰²ã€‚</p>

<h2 id="è¿›è¡Œç¬¬ä¸€æ¬¡ä¿®æ”¹">è¿›è¡Œç¬¬ä¸€æ¬¡ä¿®æ”¹</h2>

<p>ä½ ä¸å¿…åœ¨æ¯æ¬¡æ›´æ–°åº”ç”¨æ—¶éƒ½å»æ‰«æäºŒç»´ç ã€‚NativeScript CLI ä¼šè‡ªåŠ¨æ¨é€æ‰€æœ‰å·²ä¿å­˜çš„å˜æ›´ã€‚</p>

<p>è®©æˆ‘ä»¬æ¥è¯•ä¸€ä¸‹ã€‚
1. æ‰“å¼€ <strong>src/app/auto-generated/auto-generated.component.tns.html</strong>ã€‚
2. å°† <code>text</code> å±æ€§æ”¹ä¸º <code>text=&quot;Hello World&quot;</code>ã€‚
3. ä¿å­˜æ–‡ä»¶ã€‚</p>

<p>ç°åœ¨ä½ åº”è¯¥ä¼šçœ‹åˆ° app ä¸­çš„å¤§æŒ‰é’®å†™ç€ <strong>Hello World</strong> ğŸ’­ğŸŒã€‚</p>

<h2 id="å¯¼èˆª">å¯¼èˆª</h2>

<p>åœ¨è¿ç§»åçš„é¡¹ç›®ä¸­ä½ ä¼šå‘ç°è”ä¼—ä¸åŒçš„è·¯ç”± <code>NgModule</code>ï¼š</p>

<ul>
<li><strong>app-routing.module.tns.ts</strong> - ä¸€ä¸ª NativeScript ç«¯è·¯ç”± NgModuleã€‚</li>
</ul>

<blockquote>
<p>ä»£ç å…±äº«çš„é¡¹ç›®ä½¿ç”¨å‘½åçº¦å®šæ¥åŒºåˆ† web ç«¯å’Œç§»åŠ¨ç«¯æ–‡ä»¶ã€‚NativeScript ç‰¹å®šçš„æ–‡ä»¶åç¼€ä¸º <code>.tns</code>ã€‚ åœ¨ NativeScript æ–‡æ¡£çš„ <a href="https://docs.nativescript.org/angular/code-sharing/code-splitting">ä»£ç åˆ†å‰²</a> ç« èŠ‚ä½ å¯ä»¥äº†è§£æ›´å¤šã€‚</p>
</blockquote>

<p>æ‰“å¼€æ–‡ä»¶ <strong>app-routing.module.tns.ts</strong>ï¼Œä½ ä¼šæ³¨æ„åˆ° NativeScript å¼•å…¥äº† <strong>NativeScriptRouterModule</strong>ã€‚è¿™ä¸ªæ¨¡å—å°è£…äº† Angular æä¾›çš„ <strong>RouterModule</strong>ã€‚NativeScript æ‰©å±•äº† Angular çš„é»˜è®¤è·¯ç”±ï¼Œæ·»åŠ äº†ä¸€äº›ç§»åŠ¨è®¾å¤‡çš„åŠŸèƒ½ï¼Œæ¯”å¦‚å±å¹•ä¹‹é—´çš„è¿‡æ¸¡åŠ¨ç”»ã€‚</p>

<p>ä½ è¿˜ä¼šçœ‹åˆ°ä¸€ä¸ª <strong>routes</strong> æ•°ç»„ã€‚å®ƒåŒ…å«äº†ä¸€ä¸ªæŒ‡å‘ <strong>HomeComponent</strong> çš„è·¯ç”±ã€‚åœ¨åé¢çš„æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šå°† <strong>routes</strong> ç§»è‡³ä¸€ä¸ªæ™®é€šçš„æ–‡ä»¶ï¼Œä»¥åœ¨ web ç«¯å’Œç§»åŠ¨ç«¯çš„ <code>NgModule</code> ä¸­å…±äº«ã€‚</p>

<h1> è¿ç§»é¡¹ç›®å†…å®¹ </h1>

<p><strong>ng add @nativescript/schematics</strong> è¿™ä¸ªå‘½ä»¤å°†é¡¹ç›®è½¬æ¢ä¸ºä»£ç å…±äº«çš„ç»“æ„ã€‚ç„¶è€Œå®ƒå¹¶æ²¡æœ‰è½¬æ¢åº”ç”¨çš„é€»è¾‘ã€‚å…³äºè‡ªåŠ¨ç”Ÿæˆçš„éƒ¨åˆ†å…ˆè®²åˆ°è¿™é‡Œï¼Œæ˜¯æ—¶å€™è‡ªå·±äº²è‡ªåŠ¨æ‰‹å†™ä¸€å†™ä»£ç äº†ï¼</p>

<p>æ¥ä¸‹æ¥çš„å‡ æ­¥ï¼š</p>

<ul>
<li>è¿ç§» <strong>AppModule</strong></li>
<li>è¿ç§»å…¶å®ƒçš„ <strong>modules</strong></li>
<li><em>(å¯é€‰)</em> ç»Ÿä¸€ <strong>navigation</strong></li>
</ul>

<h1 id="è¿ç§»-appmodule">è¿ç§» AppModule</h1>

<p>åœ¨è¿™éƒ¨åˆ†ä¸­ï¼Œä½ å°†ä¼šç¼–è¾‘ï¼š
- <strong>app.module.ts</strong> - web ç«¯çš„æ ¹æ¨¡å—;
- <strong>app.module.tns.ts</strong> - ç§»åŠ¨ç«¯çš„æ ¹æ¨¡å—.</p>

<p>æ ¹æ¨¡å— <code>NgModule</code>ï¼ˆé€šå¸¸å«åš <code>AppModule</code>ï¼‰çš„è¿ç§»åŒ…æ‹¬å¯»æ‰¾å®ƒå¼•å…¥çš„ <code>NgModule</code> çš„ç­‰ä»·æ¨¡å—ä»¥åŠè¿ç§»å®ƒå£°æ˜çš„ç»„ä»¶ã€‚</p>

<h2 id="è¿ç§»-appmodule-çš„å¼•å…¥æ¨¡å—">è¿ç§» AppModule çš„å¼•å…¥æ¨¡å—</h2>

<p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ web ç«¯ <code>NgModule</code> çš„å…ƒä¿¡æ¯ä¸­å¼•å…¥äº†å“ªäº›æ¨¡å—ã€‚</p>

<p><strong>app.module.ts</strong></p>

<pre><code class="language-js">imports: [
  BrowserModule,
  FormsModule,
  AppRoutingModule,
  HttpClientModule,

  HttpClientInMemoryWebApiModule.forRoot(
    InMemoryDataService, {dataEncapsulation: false}
  )
],
</code></pre>

<p>å¯¹ <strong>imports</strong> éƒ¨åˆ†çš„è¿ç§»å·¥ä½œæŒ‡çš„æ˜¯å°† web ç«¯æ–‡ä»¶ (<code>app.module.ts</code>) æ”¹ä¸ºç§»åŠ¨ç«¯æ–‡ä»¶(<code>app.module.tns.ts</code>)ã€‚å¯¹æ¯ä¸ªå¼•å…¥çš„æ¨¡å—ä½ éƒ½éœ€è¦æ£€æŸ¥ï¼š</p>

<ul>
<li>å¦‚æœè¿™æ˜¯ <strong>å¹³å°æ— å…³çš„å¼•å…¥</strong> - æ„å‘³ç€å®ƒåœ¨ web å’Œ {N}ï¼ˆæ³¨ï¼š{N} æŒ‡ NativeScript ç¯å¢ƒï¼‰ä¸¤ç§ç¯å¢ƒä¸­å‡å¯å·¥ä½œ - æŠŠå®ƒæ·»åŠ è‡³ <strong>app.module.tns.ts</strong> å³å¯ï¼›</li>
<li>å¦‚æœæ˜¯å¹³å°ç›¸å…³çš„å¼•å…¥ - æˆ‘ä»¬éœ€è¦æ‰¾åˆ° <strong>{N} ç­‰ä»·æ¨¡å—</strong> å¹¶æŠŠç­‰ä»·æ¨¡å—æ·»åŠ è‡³ <strong>app.module.tns.ts</strong>ã€‚</li>
</ul>

<h3 id="browsermodule"><strong>BrowserModule</strong></h3>

<p><strong>BrowserModule</strong> æ˜¯ <strong>web ç‰¹å®š</strong> çš„æ¨¡å—ã€‚
å®ƒåœ¨ {N} ä¸­çš„ç­‰ä»·æ¨¡å—æ˜¯ <strong>NativeScriptModule</strong>ã€‚ ä½ çš„ <strong>app.module.tns.ts</strong> å·²ç»å¼•å…¥äº†<strong>NativeScriptModule</strong>ï¼Œè¿™é‡Œä¸éœ€å†åšé¢å¤–å·¥ä½œã€‚</p>

<h3 id="formsmodule"><strong>FormsModule</strong></h3>

<p><strong>FormsModule</strong> ä¹Ÿæ˜¯ <strong>web ç‰¹å®š</strong> çš„æ¨¡å—ã€‚
å®ƒåœ¨ {N} ä¸­çš„ç­‰ä»·æ¨¡å—æ˜¯ <strong>NativeScriptFormsModule</strong>ã€‚ä½ çš„ <strong>app.module.tns.ts</strong> ä¸­æœ‰ä¸€æ¡è¢«æ³¨é‡Šæ‰çš„å¯¹å®ƒçš„å¼•å…¥ï¼Œå–æ¶ˆæ³¨é‡Šå³å¯æŠŠå®ƒå¼•å…¥è‡³<strong>NgModule imports</strong>ã€‚</p>

<h3 id="approutingmodule"><strong>AppRoutingModule</strong></h3>

<p>è¿™ä¸ªé˜¶æ®µæˆ‘ä»¬æœ‰ä¸¤ä¸ªç‰ˆæœ¬çš„ <strong>AppRoutingModule</strong>ï¼š</p>

<ul>
<li>Web - <strong>app-routing.module.ts</strong> - åŒ…å« <strong>routes</strong> æ¥å¯¹ä½ åŸæ¥çš„ web ç»„ä»¶è¿›è¡Œå¯¼èˆª,</li>
<li>{N} - <strong>app-routing.module.tns.ts</strong> - åŒ…å« <strong>routes</strong> æ¥å¯¼èˆªè‡³ <strong>HomeComponent</strong> æ ·ä¾‹ç»„ä»¶.</li>
</ul>

<p>ç¨åæˆ‘ä»¬å°†è¯¦ç»†æ¢è®¨å¯¼èˆªï¼Œç°åœ¨æˆ‘ä»¬å…ˆè®¨è®ºå¦‚ä½•å°†ä¸¤ç§é…ç½®é›†åˆåœ¨ä¸€èµ·ã€‚
ä¸è¿‡ï¼Œåœ¨è¿ç§»å·¥ä½œçš„è¿™ä¸ªé˜¶æ®µï¼Œè¿˜æ˜¯å°†å®ƒä»¬åˆ†å¼€æ¯”è¾ƒå¥½ã€‚</p>

<p>ä½ çš„ <strong>app.module.tns.ts</strong> æ—©å·²å¼•å…¥äº† <strong>{N} AppRoutingModule</strong>ï¼Œæ‰€ä»¥ä¸éœ€å†åšé¢å¤–å·¥ä½œã€‚</p>

<h3 id="httpclientmodule"><strong>HttpClientModule</strong></h3>

<p><strong>HttpClientModule</strong> å®é™…ä¸Šä¸æ˜¯ <strong>web ç‰¹å®š</strong>çš„ã€‚ä½ ä¹Ÿå¯ä»¥åœ¨ç§»åŠ¨åº”ç”¨ä¸­ä½¿ç”¨ã€‚ä½†æ˜¯ï¼ŒNativeScript æä¾›äº†ç›¸ä¼¼çš„æ¨¡å— - <code>NativeScriptHttpClientModule</code>ã€‚å®ƒæ‰©å±•äº†é»˜è®¤çš„ Angular HTTP clientï¼Œå¯¹ç§»åŠ¨ç«¯æ›´åŠ å‹å¥½ã€‚æˆ‘ä»¬æ¨èä½ ä¼˜å…ˆä½¿ç”¨ {N} moduleã€‚</p>

<p>ä½ çš„ <strong>app.module.tns.ts</strong> å·²ç»æœ‰ä¸€æ¡è¢«æ³¨é‡Šäº†çš„å¯¹<strong>NativeScriptHttpClientModule</strong>çš„å¼•å…¥ï¼Œå–æ¶ˆæ³¨é‡Šå³å¯æŠŠå®ƒå¼•å…¥è‡³<strong>NgModule imports</strong>ã€‚</p>

<h3 id="httpclientinmemorywebapimodule-å’Œ-inmemorydataservice"><strong>HttpClientInMemoryWebApiModule</strong> å’Œ <strong>InMemoryDataService</strong></h3>

<p><strong>HttpClientInMemoryWebApiModule</strong> å’Œ <strong>InMemoryDataService</strong> æ˜¯å¹³å°æ— å…³çš„æ¨¡å—ã€‚æŠŠä»–ä»¬çš„å¼•å…¥ä» <strong>app.module.ts</strong> å¤åˆ¶åˆ° <strong>app.module.tns.ts</strong> åæˆ‘ä»¬å°±èƒ½é¡ºåˆ©è¿›è¡Œä¸‹å»äº†ã€‚</p>

<h2 id="module-å¼•å…¥æ€»ç»“">Module å¼•å…¥æ€»ç»“</h2>

<p>è¿™æ˜¯ä½  NativeScript çš„ <strong>imports</strong> åº”è¯¥çš„æ ·å­:</p>

<p><strong>app.module.tns.ts</strong></p>

<pre><code class="language-js">import { NativeScriptModule } from 'nativescript-angular/nativescript.module';
import { NativeScriptFormsModule } from 'nativescript-angular/forms';
import { NativeScriptHttpClientModule } from 'nativescript-angular/http-client';

import { AppRoutingModule } from './app-routing.module.tns';

import { HttpClientInMemoryWebApiModule } from 'angular-in-memory-web-api';
import { InMemoryDataService } from './in-memory-data.service';
...

@NgModule({
  ...
  imports: [
    NativeScriptModule,
    NativeScriptFormsModule,
    AppRoutingModule,
    NativeScriptHttpClientModule,

    HttpClientInMemoryWebApiModule.forRoot(
      InMemoryDataService, {dataEncapsulation: false}
    ),
  ],
  ...
})
export class AppModule { }
</code></pre>

<p>è¿™æ˜¯ä¸€å¼ æ‰€æœ‰ <code>NgModule</code> imports è¡¨:</p>

<table>
<thead>
<tr>
<th>Name</th>
<th>Same Module</th>
<th>{N} Name</th>
<th>import from</th>
</tr>
</thead>

<tbody>
<tr>
<td>BrowserModule</td>
<td>No</td>
<td>NativeScriptModule</td>
<td>&lsquo;nativescript-angular/nativescript.module&rsquo;</td>
</tr>

<tr>
<td>FormsModule</td>
<td>No</td>
<td>NativeScriptFormsModule</td>
<td>&lsquo;nativescript-angular/forms&rsquo;</td>
</tr>

<tr>
<td>AppRoutingModule</td>
<td>No</td>
<td>AppRoutingModule</td>
<td>&rsquo;./app-routing.module.tns&rsquo;</td>
</tr>

<tr>
<td>HttpClientModule</td>
<td>No</td>
<td>NativeScriptHttpClientModule</td>
<td>&lsquo;nativescript-angular/http-client&rsquo;</td>
</tr>

<tr>
<td>HttpClientInMemoryWebApiModule</td>
<td>Yes</td>
<td>&mdash;</td>
<td>&mdash;</td>
</tr>

<tr>
<td>InMemoryDataService</td>
<td>Yes</td>
<td>&mdash;</td>
<td>&mdash;</td>
</tr>
</tbody>
</table>

<h2 id="è¿ç§»-appmodule-ç»„ä»¶">è¿ç§» AppModule ç»„ä»¶</h2>

<p>ä¸‹ä¸€æ­¥çš„ä»»åŠ¡æ˜¯å°† <strong>AppModule Components</strong> è¿ç§»æˆä»£ç å…±äº«çš„ç»“æ„ã€‚</p>

<p>é€šå¸¸ï¼Œç»„ä»¶çš„è¿ç§»ç”±ä¸‰ä¸ªæ­¥éª¤ç»„æˆï¼š</p>

<ol>
<li>åˆ›å»ºä¸€ä¸ª <strong>{N}</strong> ç‰ˆæœ¬çš„æ¨¡æ¿æ–‡ä»¶ï¼ˆä¾‹å¦‚ <strong>name.component.tns.html</strong>ï¼‰

<ul>
<li>ä¸ºå®ƒåŠ ä¸Š <strong>{N} UI Code</strong></li>
</ul></li>
<li>ï¼ˆå¯é€‰ï¼‰åˆ›å»ºä¸€ä¸ª <strong>{N}</strong> ç‰ˆæœ¬çš„æ ·å¼æ–‡ä»¶ï¼ˆä¾‹å¦‚ï¼š<strong>name.component.tns.css</strong>ï¼‰

<ul>
<li>ä¸ºå®ƒåŠ ä¸Š <strong>{N} UI Code</strong></li>
</ul></li>
<li>åœ¨ <strong>{N}</strong> AppModule (<code>app.module.tns.ts</code>)çš„ <strong>Declarations</strong> ä¸­åŠ å…¥è¯¥ç»„ä»¶<br />
ï¼ˆå¯é€‰ï¼‰å°†è¯¥ç»„ä»¶æ·»åŠ è‡³ {N} å¯¼èˆªã€‚</li>
</ol>

<p>è¿™æ­¥ä»»åŠ¡å¯ä»¥åœ¨ <a href="https://docs.nativescript.org/angular/code-sharing/migrating-a-web-project#schematic-migrate-component">migrate-component schematic</a> çš„å¸®åŠ©ä¸‹è¿›è¡Œã€‚å®ƒä¼šè‡ªåŠ¨å®Œæˆå‰ä¸‰æ­¥ã€‚é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æ‰§è¡Œå®ƒï¼š</p>

<pre><code class="language-bash">ng g migrate-component --name=component-name
</code></pre>

<h3 id="è¿ç§»-heroescomponent">è¿ç§» HeroesComponent</h3>

<p>é¦–å…ˆè¿›è¡Œ <strong>HeroesComponent</strong> çš„ç»„ä»¶è¿ç§»ï¼š</p>

<pre><code class="language-bash">ng g migrate-component --name=heroes
</code></pre>

<p>è¿™ä¸ªå‘½ä»¤é€šè¿‡å¦‚ä¸‹æ–¹å¼æ›´æ”¹ä½ çš„é¡¹ç›®ï¼š</p>

<ul>
<li>ä½¿ç”¨ <strong>heroes.component.html</strong> ä¸­æ³¨é‡Šæ‰çš„ html ç”Ÿæˆ <strong>heroes.component.tns.html</strong>ï¼›</li>
<li>ç”Ÿæˆ <strong>heroes.component.tns.css</strong> ç©ºæ–‡ä»¶ï¼›</li>
<li>å°† <strong>HeroesComponent</strong> æ·»åŠ è‡³ <strong>app.module.tns.ts</strong> çš„ <strong>declarations</strong> æ•°ç»„ä¸­ã€‚</li>
</ul>

<pre><code>src
â””â”€â”€ app
    â”œâ”€â”€ heroes
    |   â”œâ”€â”€ heroes.component.html
    |   â”œâ”€â”€ heroes.component.tns.html &lt;= create
    |   â””â”€â”€ heroes.component.ts
    |   â””â”€â”€ heroes.component.tns.css  &lt;= create
    |   â””â”€â”€ heroes.component.css
    â”œâ”€â”€ app.module.tns.ts             &lt;= update
    â””â”€â”€ app.module.ts
</code></pre>

<h4 id="å°†ç»„ä»¶åŠ åˆ°ç§»åŠ¨ç«¯çš„å¯¼èˆªä¸­">å°†ç»„ä»¶åŠ åˆ°ç§»åŠ¨ç«¯çš„å¯¼èˆªä¸­</h4>

<p>ä½ éœ€è¦æ›´æ–° NativeScript çš„å¯¼èˆª <strong>routes</strong>ï¼Œè®©å®ƒå¯ä»¥åœ¨åº”ç”¨å¯åŠ¨æ—¶å¯¼èˆªè‡³æ–°åˆ›å»ºçš„ <strong>HeroesComponent</strong> ã€‚</p>

<p><strong>app-routing.module.tns.ts</strong></p>

<pre><code class="language-js">import { HeroesComponent } from './heroes/heroes.component';

export const routes: Routes = [
  {path: '', redirectTo:'/heroes', pathMatch:'full'},
  {path: 'heroes', component: HeroesComponent},
];
</code></pre>

<p>ä½ ä¼šçœ‹åˆ°å±å¹•ä¸­æœ‰ä¸€æ¡ç®€å•çš„æ¶ˆæ¯ï¼š *Heroes Component works*ã€‚</p>

<blockquote>
<p>å¦‚æœä½ æ²¡æœ‰çœ‹åˆ°å˜åŒ–ï¼Œè¯•ç€é‡æ–°æ„å»ºåº”ç”¨ã€‚åœæ­¢å‘½ä»¤è¡Œçš„å½“å‰è¿›ç¨‹å¹¶å†æ¬¡æ‰§è¡Œé¢„è§ˆå‘½ä»¤ï¼š</p>

<pre><code>&gt; tns preview --bundle
&gt; ```

#### æ›´æ–°æ¨¡æ¿

æ˜¯æ—¶å€™åˆ›å»ºä½ ç¬¬ä¸€ä¸ªç§»åŠ¨ç«¯é¡µé¢äº†ï¼

&gt; NativeScript UI ç»„ä»¶æ˜¯ä¸€ä¸ªå¹¿æ³›çš„è¯é¢˜ï¼Œä»Šå¤©çš„æ—¶é—´æ¯”è¾ƒå®è´µï¼Œæˆ‘ä»¬ä¸ä¼šæ·±å…¥æ¢è®¨å®ƒã€‚å¦‚æœä½ æƒ³äº†è§£æ›´å¤šï¼Œå¯ä»¥çœ‹çœ‹è¿™äº›èµ„æ–™ï¼š
&gt;  * [The interactive tutorial for {N} layouts](https://www.nslayouts.com/);
&gt;  * [UI Widgets](https://docs.nativescript.org/angular/ui/ng-ui-widgets/action-bar).

å¥½äº†ï¼Œè®©æˆ‘ä»¬å¼€å§‹å§ã€‚html æ¨¡æ¿çœ‹èµ·æ¥åƒè¿™æ ·ï¼š

**heroes.component.html**

```html
&lt;h2&gt;My Heroes&lt;/h2&gt;

&lt;div&gt;
  &lt;label&gt;Hero name:
    &lt;input #heroName /&gt;
  &lt;/label&gt;
  &lt;button (click)=&quot;add(heroName.value); heroName.value=''&quot;&gt;
    add
  &lt;/button&gt;
&lt;/div&gt;

&lt;ul class=&quot;heroes&quot;&gt;
  &lt;li *ngFor=&quot;let hero of heroes&quot;&gt;
    &lt;a routerLink=&quot;/detail/{{hero.id}}&quot;&gt;
      &lt;span class=&quot;badge&quot;&gt;{{hero.id}}&lt;/span&gt; {{hero.name}}
    &lt;/a&gt;
    &lt;button class=&quot;delete&quot; title=&quot;delete hero&quot;
      (click)=&quot;delete(hero)&quot;&gt;x&lt;/button&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</blockquote>

<p>ä¸€å¼€å§‹ï¼Œæ˜¯:</p>

<p><strong>heroes.component.html</strong></p>

<pre><code class="language-html">&lt;h2&gt;My Heroes&lt;/h2&gt;
</code></pre>

<p>è¿™æ˜¾ç„¶æ˜¯é¡µé¢çš„æ ‡é¢˜ã€‚ä½ å¯ä»¥ç”¨ <strong>ActionBar</strong> æ¥æ›¿æ¢ã€‚</p>

<p><strong>heroes.component.tns.html</strong></p>

<pre><code class="language-html">&lt;ActionBar title=&quot;My Heroes&quot; class=&quot;action-bar&quot;&gt;
&lt;/ActionBar&gt;
</code></pre>

<p>æ¥ä¸‹æ¥æ˜¯ä¸€ä¸ªåŒ…å«ç€ä¸€ä¸ª labelï¼Œä¸€ä¸ª input å’Œä¸€ä¸ª button çš„ <code>div</code> å®¹å™¨ã€‚</p>

<p><strong>heroes.component.html</strong></p>

<pre><code class="language-html">&lt;div&gt;
  &lt;label&gt;Hero name:
    &lt;input #heroName /&gt;
  &lt;/label&gt;
  &lt;button (click)=&quot;add(heroName.value); heroName.value=''&quot;&gt;
    add
  &lt;/button&gt;
&lt;/div&gt;
</code></pre>

<p>ä½ éœ€è¦è¿›è¡Œå¦‚ä¸‹æ›¿æ¢ï¼š</p>

<ul>
<li>å°† <code>&lt;div&gt;</code> æ›¿æ¢ä¸º <code>&lt;GridLayout&gt;</code>ï¼Œæ’æˆä¸‰åˆ—ï¼›</li>
<li>å°† <code>&lt;label&gt;</code> æ ‡ç­¾æ›¿æ¢ä¸º <code>&lt;Label&gt;</code> æ ‡ç­¾ï¼ˆé¦–å­—æ¯å¤§å†™ï¼‰ï¼Œå°†<strong>Hero name:</strong>çš„å€¼èµ‹ç»™æ ‡ç­¾çš„ <code>[text]</code> å±æ€§ï¼›</li>
<li>å°† <code>&lt;input&gt;</code> æ›¿æ¢ä¸º <code>&lt;TextField&gt;</code>ï¼›</li>
<li>å°† <code>&lt;button&gt;</code> æ›¿æ¢ä¸º <code>&lt;Button&gt;</code> - åœ¨è¿™é‡Œä½ ä¼ å…¥ <code>heroName.text</code>ï¼ˆè€Œä¸æ˜¯ <code>heroName.value</code>ï¼‰ï¼›</li>
<li>å°† <code>(click)</code> äº‹ä»¶å±æ€§æ›¿æ¢ä¸º <code>(tap)</code> äº‹ä»¶å±æ€§ã€‚</li>
</ul>

<p>åƒè¿™æ ·:</p>

<p><strong>heroes.component.tns.html</strong></p>

<pre><code class="language-html">&lt;GridLayout rows=&quot;auto&quot; columns=&quot;auto, *, auto&quot;&gt;
  &lt;Label text=&quot;Hero name:&quot; class=&quot;h2 m-l-5&quot;&gt;&lt;/Label&gt;
  &lt;TextField col=&quot;1&quot; hint=&quot;enter hero name...&quot; #heroName class=&quot;m-x-5&quot;&gt;&lt;/TextField&gt;
  &lt;Button col=&quot;2&quot; text=&quot;add&quot; (tap)=&quot;add(heroName.text); heroName.text=''&quot; class=&quot;btn btn-primary&quot;&gt;&lt;/Button&gt;
&lt;/GridLayout&gt;
</code></pre>

<p>ä¸‹é¢æ˜¯è‹±é›„åˆ—è¡¨:</p>

<pre><code class="language-html">&lt;ul class=&quot;heroes&quot;&gt;
  &lt;li *ngFor=&quot;let hero of heroes&quot;&gt;
    &lt;a routerLink=&quot;/detail/{{hero.id}}&quot;&gt;
      &lt;span class=&quot;badge&quot;&gt;{{hero.id}}&lt;/span&gt; {{hero.name}}
    &lt;/a&gt;
    &lt;button class=&quot;delete&quot; title=&quot;delete hero&quot;
      (click)=&quot;delete(hero)&quot;&gt;x&lt;/button&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</code></pre>

<p>ä½ éœ€è¦è¿›è¡Œå¦‚ä¸‹æ›¿æ¢ï¼š</p>

<ul>
<li>å°†æ— åºåˆ—è¡¨ <code>&lt;ul&gt;</code> æ›¿æ¢ä¸º <code>&lt;ListView&gt;</code>ï¼›</li>
<li>å°†æ¯ä¸€ä¸ª <code>&lt;li&gt;</code> æ›¿æ¢ä¸º <code>&lt;ng-template&gt;</code>ï¼›</li>
<li>å°†å¯¼èˆªé“¾æ¥ <code>&lt;a&gt;</code> æ›¿æ¢ä¸º <code>GridLayout</code>ã€‚åŒæ—¶å°† <code>routerLink</code> æŒ‡ä»¤æ¢ä¸º <code>nsRouterLink</code>ï¼›</li>
<li>å°† <code>&lt;span&gt;</code> æ›¿æ¢ä¸º<code>&lt;Label&gt;</code>ï¼›</li>
<li>å°† <code>&lt;button&gt;</code> æ›¿æ¢ä¸º <code>&lt;Button&gt;</code>ã€‚</li>
</ul>

<p>åƒè¿™æ ·ï¼š</p>

<p><strong>heroes.component.tns.html</strong></p>

<pre><code class="language-html">&lt;ListView [items]=&quot;heroes&quot; class=&quot;list-group&quot; height=&quot;100%&quot;&gt;
  &lt;ng-template let-hero=&quot;item&quot;&gt;
    &lt;GridLayout columns=&quot;auto, *, auto&quot; nsRouterLink=&quot;/detail/{{hero.id}}&quot;&gt;
      &lt;Label col=&quot;0&quot; [text]=&quot;hero.id&quot; class=&quot;list-group-item&quot;&gt;&lt;/Label&gt;
      &lt;Label col=&quot;1&quot; [text]=&quot;hero.name&quot; class=&quot;list-group-item&quot;&gt;&lt;/Label&gt;
      &lt;Button col=&quot;2&quot; text=&quot;X&quot; (tap)=&quot;delete(hero)&quot; class=&quot;btn btn-primary&quot;&gt;&lt;/Button&gt;
    &lt;/GridLayout&gt;
  &lt;/ng-template&gt;
&lt;/ListView&gt;
</code></pre>

<p>æœ€åï¼Œä½ éœ€è¦ç”¨ <code>StackLayout</code> å°† <code>GridLayout</code> å’Œ <code>ListView</code> åŒ…èµ·æ¥ã€‚</p>

<blockquote>
<p>è¯·æ³¨æ„ï¼ŒåŒ…æ‹¬ <strong>ActionBar</strong> åœ¨å†…çš„ NativeScript æ¨¡æ¿æœ€å¤šä»…èƒ½åŒ…å«ä¸€ä¸ªç»„ä»¶ã€‚è¿™å°±æ˜¯ä½ éœ€è¦ä¸€ä¸ªå¸ƒå±€å®¹å™¨æŠŠå…¶ä»–ç»„ä»¶å›Šæ‹¬èµ·æ¥çš„åŸå› ã€‚</p>
</blockquote>

<p>æ•´ä¸ªæ¨¡æ¿ä¼šåƒè¿™æ ·:</p>

<p><strong>heroes.component.tns.html</strong></p>

<pre><code class="language-js">&lt;ActionBar title=&quot;My Heroes&quot; class=&quot;action-bar&quot;&gt;
&lt;/ActionBar&gt;

&lt;StackLayout&gt;
  &lt;GridLayout rows=&quot;auto&quot; columns=&quot;auto, *, auto&quot;&gt;
    &lt;Label text=&quot;Hero name:&quot; class=&quot;h2 m-l-5&quot;&gt;&lt;/Label&gt;
    &lt;TextField col=&quot;1&quot; hint=&quot;enter hero name...&quot; #heroName class=&quot;m-x-5&quot;&gt;&lt;/TextField&gt;
    &lt;Button col=&quot;2&quot; text=&quot;add&quot; (tap)=&quot;add(heroName.text); heroName.text=''&quot; class=&quot;btn btn-primary&quot;&gt;&lt;/Button&gt;
  &lt;/GridLayout&gt;

  &lt;ListView [items]=&quot;heroes&quot; class=&quot;list-group&quot; height=&quot;100%&quot;&gt;
    &lt;ng-template let-hero=&quot;item&quot;&gt;
      &lt;GridLayout columns=&quot;auto, *, auto&quot; nsRouterLink=&quot;/detail/{{hero.id}}&quot;&gt;
        &lt;Label col=&quot;0&quot; [text]=&quot;hero.id&quot; class=&quot;list-group-item&quot;&gt;&lt;/Label&gt;
        &lt;Label col=&quot;1&quot; [text]=&quot;hero.name&quot; class=&quot;list-group-item&quot;&gt;&lt;/Label&gt;
        &lt;Button col=&quot;2&quot; text=&quot;X&quot; (tap)=&quot;delete(hero)&quot; class=&quot;btn btn-primary&quot;&gt;&lt;/Button&gt;
      &lt;/GridLayout&gt;
    &lt;/ng-template&gt;
  &lt;/ListView&gt;
&lt;/StackLayout&gt;
</code></pre>

<h4 id="æ›´æ–°æ ·å¼">æ›´æ–°æ ·å¼</h4>

<p>ä½ å¯ä»¥ç”¨ CSS æ¥ä¸º NativeScript ç¼–å†™æ ·å¼ã€‚ä¸ºäº†è®©ä¸Šé¢çš„ç»„ä»¶æ›´æœ‰å¸å¼•åŠ›ï¼ŒæŠŠä¸‹é¢çš„æ ·å¼å¤åˆ¶åˆ° <strong>heroes.component.tns.css</strong>ã€‚</p>

<pre><code class="language-CSS">.container {
  background-color: #EFEFF4;
}

.search-container {
  padding: 15;
}

.search-container TextField {
  color: #757575;
  padding-left: 10;
  font-size: 20;
}

.search-container Button {
  background-color: #30CE91;
  color: white;
  font-size: 18;
  padding: 10 30;
  border-radius: 20;
}

ListView {
  background-color: transparent;
  separator-color: transparent;
}

.hero-container {
  background-color: white;
  border-radius: 10;
  margin: 10 15;
  padding: 15;

}
.circle {
  background-color: #C6D7FE;
  color: #2A48CD;
}

.hero-label {
  font-weight: bold;
  font-size: 18;
  margin-left: 10;
}

.delete-button {
  font-size: 24;
  font-weight: normal;
}
</code></pre>

<h2 id="è¿ç§»-herodetailcomponent">è¿ç§» <code>HeroDetailComponent</code></h2>

<p>ä¸‹ä¸€æ­¥ä½ éœ€è¦è¿ç§» <strong>HeroDetailComponent</strong>ã€‚</p>

<p>æ­¥éª¤ä¸å‰é¢ç›¸åŒ.</p>

<ol>
<li><p>è¿è¡Œè¿ç§»å‘½ä»¤.</p>

<pre><code class="language-bash">ng g migrate-component --name=hero-detail
</code></pre></li>

<li><p>åœ¨ç§»åŠ¨ç«¯å¯¼èˆªé…ç½®ä¸­æ³¨å†Œæ–°çš„ç»„ä»¶ã€‚</p>

<p><strong>app-routing.module.tns.ts</strong></p>

<pre><code class="language-bash">import { HeroDetailComponent } from './hero-detail/hero-detail.component';

export const routes: Routes = [
  {path: '', redirectTo:'/heroes', pathMatch:'full'},
  {path: 'heroes', component: HeroesComponent},
  {path: 'detail/:id', component: HeroDetailComponent},
];
</code></pre></li>

<li><p>æ›´æ–° NativeScript æ¨¡æ¿ã€‚</p></li>
</ol>

<p><strong>hero-detail.component.tns.html</strong></p>

<pre><code class="language-html">&lt;ActionBar title=&quot;{{hero?.name | uppercase}} Details&quot; icon=&quot;&quot;class=&quot;action-bar&quot;&gt;
&lt;/ActionBar&gt;

&lt;StackLayout *ngIf=&quot;hero&quot;&gt;
  &lt;Label text=&quot;ID: {{hero.id}}&quot; class=&quot;h1 text-center&quot;&gt;&lt;/Label&gt;
  &lt;TextField [(ngModel)]=&quot;hero.name&quot; hint=&quot;name&quot; class=&quot;input input-border&quot;&gt;&lt;/TextField&gt;

  &lt;Button text=&quot;Go Back&quot; (tap)=&quot;goBack()&quot; class=&quot;btn btn-primary&quot;&gt;&lt;/Button&gt;
  &lt;Button text=&quot;Save&quot; (tap)=&quot;save()&quot; class=&quot;btn btn-primary&quot;&gt;&lt;/Button&gt;
&lt;/StackLayout&gt;
</code></pre>

<ol>
<li>æ›´æ–°æ ·å¼ã€‚</li>
</ol>

<p><strong>hero-detail.component.tns.css</strong></p>

<pre><code class="language-css">.container {
  background-color: #EDECF2;
}

.main-name {
  background-color: #2A48CD;
  font-size: 36;
  font-weight: bold;
  text-align: center;
  color: white;
  padding: 0 0 15 0;
}

.grid {
  margin: 30;
}

.circle {
  background-color: #C6D7FE;
  color: #2A48CD;
}

.name {
  font-size: 22;
  font-weight: bold;
  margin-left: 20;
}

.id-label {
  text-align: center;
}

.name-label {
  margin-left: 20;
}

.id-label, .name-label {
  margin-top: 10;
  color: #ABABAB;
}

.btn {
  background-color: #2A48CD;
  color: white;
  font-weight: bold;
  font-size: 18;
  padding: 15 0;
  border-radius: 25;
}
</code></pre>

<ol>
<li>è¯•ä¸€ä¸‹æ–°é¡µé¢</li>
</ol>

<p>è¿è¡Œ app å¹¶å¯¼èˆªåˆ°ä¸€ä¸ªè‹±é›„é¡µé¢å†è¿”å›ã€‚é‡å¤å‡ æ¬¡ä»¥ç¡®å®šç¨‹åºæ­£å¸¸è¿è¡Œã€‚</p>

<h2 id="è¿ç§»-dashboardcomponent-å’Œ-herosearchcomponent">è¿ç§» DashboardComponent å’Œ HeroSearchComponent</h2>

<p><strong>DashboardComponent</strong> ä½¿ç”¨äº† <strong>HeroSearchComponent</strong>ï¼Œè¿™æ„å‘³ç€ä½ éœ€è¦åŒæ—¶è¿ç§»è¿™ä¸¤ä¸ªç»„ä»¶ã€‚</p>

<ol>
<li>ä¸ºè¿™ä¸¤ä¸ªç»„ä»¶è¿è¡Œè¿ç§»å‘½ä»¤:</li>
</ol>

<pre><code class="language-bash">  ng g migrate-component --name=dashboard
  ng g migrate-component --name=hero-search
</code></pre>

<ol>
<li>æ›´æ–°å¯¼èˆª</li>
</ol>

<p>åœ¨è·¯ç”±ä¸­ä¸º <strong>DashboardComponent</strong> æ·»åŠ ä¸€ä¸ªæ–°çš„è·¯å¾„ã€‚
ä½†æ˜¯ï¼Œä½ ä¸éœ€è¦ä¸º <strong>HeroSearchComponent</strong> å†æ·»åŠ è·¯å¾„ï¼Œå› ä¸ºå¯ä»¥é€šè¿‡ <strong><app-hero-search></strong> é€‰æ‹©å™¨ç›´æ¥ä½¿ç”¨å®ƒã€‚</p>

<p><strong>app-routing.module.tns.ts</strong></p>

<pre><code class="language-bash">import { DashboardComponent } from './dashboard/dashboard.component';

export const routes: Routes = [
  {path: '', redirectTo:'/heroes', pathMatch:'full'},
  {path: 'heroes', component: HeroesComponent},
  {path: 'detail/:id', component: HeroDetailComponent},
  {path: 'dashboard', component: DashboardComponent},
];
</code></pre>

<ol>
<li>æ›´æ–° the NativeScript æ¨¡æ¿</li>
</ol>

<p><strong>dashboard.component.tns.html</strong></p>

<pre><code class="language-html">&lt;ActionBar title=&quot;Top Heroes&quot; icon=&quot;&quot;class=&quot;action-bar&quot;&gt;
&lt;/ActionBar&gt;

&lt;GridLayout rows=&quot;*, *&quot;&gt;
  &lt;ListView row=&quot;0&quot; [items]=&quot;heroes&quot; class=&quot;list-group&quot;&gt;
    &lt;ng-template let-hero=&quot;item&quot;&gt;
      &lt;Button [text]=&quot;hero.name&quot; nsRouterLink=&quot;/detail/{{hero.id}}&quot; class=&quot;btn btn-primary&quot;&gt;&lt;/Button&gt;
    &lt;/ng-template&gt;
  &lt;/ListView&gt;
  &lt;StackLayout row=&quot;1&quot;&gt;
    &lt;app-hero-search row=&quot;1&quot;&gt;&lt;/app-hero-search&gt;
  &lt;/StackLayout&gt;
&lt;/GridLayout&gt;
</code></pre>

<p><strong>hero-search.component.tns.css</strong></p>

<pre><code class="language-html">&lt;StackLayout&gt;
  &lt;Label text=&quot;Hero Search&quot; class=&quot;h1 text-center&quot;&gt;&lt;/Label&gt;

  &lt;TextField #heroName
    hint=&quot;enter hero-name&quot;
    autocorrect=&quot;false&quot;
    class=&quot;m-x-5&quot;
    (loaded)=&quot;heroName.text =''&quot;
    (textChange)=&quot;search($event.value)&quot;&gt;
  &lt;/TextField&gt;
  &lt;ListView [items]=&quot;heroes$ | async&quot; class=&quot;list-group&quot;&gt;
    &lt;ng-template let-hero=&quot;item&quot;&gt;
      &lt;Label [text]=&quot;hero.name&quot; nsRouterLink=&quot;/detail/{{hero.id}}&quot; class=&quot;list-group-item&quot;&gt;&lt;/Label&gt;
    &lt;/ng-template&gt;
  &lt;/ListView&gt;
&lt;/StackLayout&gt;
</code></pre>

<blockquote>
<p>æœ‰è¶£çš„æ˜¯ï¼Œ<code>&lt;app-hero-search&gt;</code> é€‰æ‹©å™¨åœ¨ web ç«¯å’Œç§»åŠ¨ç«¯éƒ½å¯ä½¿ç”¨ã€‚å› ä¸º <strong>HeroSearchComponent</strong> æ˜¯å¹³å°æ— å…³çš„ã€‚</p>
</blockquote>

<ol>
<li>æ›´æ–° NativeScript æ ·å¼:</li>
</ol>

<p><strong>dashboard.component.tns.css</strong></p>

<pre><code class="language-CSS">.header {
    font-size: 42;
    font-weight: bold;
    color: white;
    text-align: center;
    margin: 0 0 20 0;
}

FlexboxLayout {
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
    align-content: flex-start;
    margin-top: 30;
}
.hero-container {
    width: 49%;
    border-width: 1;
    border-color: #395ad9;
}

.name {
    color: white;
    font-size: 20;
    text-align: center;
    margin: 10 0 20 0;
}

.circle {
    margin-top: 20;
}
</code></pre>

<p><strong>hero-search.component.tns.css</strong></p>

<pre><code class="language-CSS">.search-result li {
  border-bottom: 1px solid gray;
  border-left: 1px solid gray;
  border-right: 1px solid gray;
  width:195px;
  height: 16px;
  padding: 5px;
  background-color: white;
  cursor: pointer;
  list-style-type: none;
}

.search-result li:hover {
  background-color: #607D8B;
}

.search-result li a {
  color: #888;
  display: block;
  text-decoration: none;
}

.search-result li a:hover {
  color: white;
}
.search-result li a:active {
  color: white;
}
#search-box {
  width: 200px;
  height: 20px;
}


ul.search-result {
  margin-top: 0;
  padding-left: 0;
}
</code></pre>

<ol>
<li>è¯•ä¸€ä¸‹ç»„ä»¶ã€‚</li>
</ol>

<p>æ­¤æ—¶ï¼Œä½ çš„ç§»åŠ¨ç«¯åº”ç”¨è¿˜æ— æ³•å¯¼èˆªè‡³ Dashboardã€‚ å¯¼èˆªåˆ°å®ƒæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯ä¿®æ”¹é»˜è®¤ <strong>redirectTo</strong> è·¯å¾„ä¸º<code>'/dashboard'</code>ã€‚åƒè¿™æ ·ï¼š</p>

<p><strong>app-routing.module.tns.ts</strong></p>

<pre><code class="language-js">export const routes: Routes = [
  {path: '', redirectTo:'/dashboard', pathMatch:'full'},
  {path: 'heroes', component: HeroesComponent},
  {path: 'detail/:id', component: HeroDetailComponent},
  {path: 'dashboard', component: DashboardComponent},
];
</code></pre>

<p>ä½†ä¸€å®šè¦è®°å¾—æµ‹è¯•å®Œæ”¹å›å»ã€‚</p>

<h2 id="sidedrawer-å¯¼èˆª">SideDrawer å¯¼èˆª</h2>

<p>ä½ ç°åœ¨è¿˜ç¼ºä¸€ä¸ªå¥½æ–¹æ³•å®ç°åœ¨è‹±é›„é¡µå’Œ Dashboard é¡µä¹‹é—´å¯¼èˆªã€‚é€šå¸¸å¯ä»¥ç”¨ <strong>TabView</strong> å’Œ <strong>SideDrawer</strong>ã€‚</p>

<p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€‰æ‹©æœ‰ä¸€ç³»åˆ—æŒ‰é’®çš„ <strong>SideDrawer</strong> å¯¼èˆªæ–¹å¼ã€‚</p>

<h3 id="æ·»åŠ -sidedrawer-æ’ä»¶">æ·»åŠ  SideDrawer æ’ä»¶</h3>

<p>è¿è¡Œä¸‹é¢çš„å‘½ä»¤ä»¥å®‰è£…  <strong>NativeScript SideDrawer</strong></p>

<pre><code class="language-bash">tns plugin add nativescript-ui-sidedrawer
</code></pre>

<h3 id="æ›´æ–°-n-appmodule">æ›´æ–° {N} AppModule</h3>

<p>ç„¶åä½ éœ€è¦åœ¨ <strong>NativeScript AppModule</strong> ä¸­å¼•å…¥ <strong>NativeScriptUISideDrawerModule</strong>ã€‚</p>

<p><strong>app.module.tns.ts</strong></p>

<pre><code class="language-js">import { NativeScriptUISideDrawerModule } from 'nativescript-ui-sidedrawer/angular';

@NgModule({
  imports: [
    ...
    NativeScriptUISideDrawerModule,
  ]
  ...
})
export class AppModule { }
</code></pre>

<h3 id="æ·»åŠ -sidedrawer">æ·»åŠ  SideDrawer</h3>

<p>åœ¨é¡¹ç›®ä¸­æ·»åŠ  SideDrawer éå¸¸å®¹æ˜“ã€‚ å°±åƒ web é¡¹ç›® <strong>app.component.html</strong> ä¸­å¯¼èˆªå®šä¹‰çš„é‚£æ ·ï¼Œä½ å¯ä»¥å°†  SideDrawer æ·»åŠ åˆ° <strong>app.compoment.tns.html</strong>ï¼š</p>

<p><strong>app.component.tns.html</strong></p>

<pre><code class="language-html">&lt;RadSideDrawer&gt;
  &lt;GridLayout tkDrawerContent rows=&quot;*&quot; class=&quot;sidedrawer sidedrawer-left&quot;&gt;
    &lt;StackLayout class=&quot;sidedrawer-content&quot;&gt;
      &lt;Button text=&quot;heroes&quot; nsRouterLink=&quot;/heroes&quot; (tap)=&quot;closeDrawer()&quot; clearHistory=&quot;true&quot; class=&quot;btn btn-primary&quot;&gt;&lt;/Button&gt;
      &lt;Button text=&quot;dashboard&quot; nsRouterLink=&quot;/dashboard&quot; (tap)=&quot;closeDrawer()&quot; clearHistory=&quot;true&quot; class=&quot;btn btn-primary&quot;&gt;&lt;/Button&gt;
    &lt;/StackLayout&gt;
  &lt;/GridLayout&gt;

  &lt;page-router-outlet tkMainContent class=&quot;page page-content&quot;&gt;&lt;/page-router-outlet&gt;
&lt;/RadSideDrawer&gt;
</code></pre>

<p>æ³¨æ„ï¼Œ<code>&lt;GridLayout&gt;</code> åŒ…å«ç€ SideDrawer çš„å†…å®¹ï¼ˆä½ éœ€è¦åœ¨è¿™æ·»åŠ æ‰€æœ‰çš„å¯¼èˆªé“¾æ¥ï¼‰ã€‚ä½†æ˜¯é¡µé¢çš„å†…å®¹ä¼šåœ¨ <code>&lt;page-router-outlet&gt;</code> å¤„åŠ è½½ã€‚</p>

<p>æ­¤å¤–ï¼Œ æ¯ä¸ªæŒ‰é’®éƒ½åŒæ—¶ä½¿ç”¨äº† <code>nsRouterLink='/path'</code> å’Œ <code>clearHistory=&quot;true&quot;</code>ã€‚è¿™æ˜¯ä¸ºäº†é˜²æ­¢ iOS åœ¨ ActionBar ä¸Šæ·»åŠ åé€€æŒ‰é’®ï¼Œå¹¶é˜²æ­¢ Android åœ¨ç”¨æˆ·ä½¿ç”¨è®¾å¤‡çš„è¿”å›åŠŸèƒ½æ—¶å›é€€ã€‚</p>

<p>æœ€åï¼Œæ¯ä¸ªæŒ‰é’®è°ƒç”¨ <code>closeDrawer()</code> å‡½æ•°ï¼Œä¸ºäº†åœ¨åº”ç”¨å¯¼èˆªå SideDrawer è‡ªå·±è¿›è¡Œä¼˜é›…çš„å…³é—­ï¼Œä»¥æä¾›è‰¯å¥½çš„ç”¨æˆ·ä½“é™¢ã€‚</p>

<pre><code class="language-html">&lt;Button
	text=&quot;heroes&quot;
	nsRouterLink=&quot;/heroes&quot;
	clearHistory=&quot;true&quot;
	(tap)=&quot;closeDrawer()&quot;
	class=&quot;btn btn-primary&quot;&gt;
&lt;/Button&gt;
</code></pre>

<p>ä½ éœ€è¦åœ¨ <strong>app.component.tns.ts</strong> ä¸­æ·»åŠ  <code>closeDrawer()</code> å‡½æ•°ï¼Œåƒè¿™æ ·ï¼š</p>

<pre><code class="language-js">import { Component } from '@angular/core';
import * as app from 'tns-core-modules/application';
import { RadSideDrawer } from 'nativescript-ui-sidedrawer';

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
})

export class AppComponent {
  closeDrawer() {
    const sideDrawer = &lt;RadSideDrawer&gt;app.getRootView();
    sideDrawer.closeDrawer();
  }
}
</code></pre>

<h3 id="æµ‹è¯•-sidedrawer">æµ‹è¯• SideDrawer</h3>

<p>ç°åœ¨ä½ å¯ä»¥åœ¨å±å¹•å·¦ä¾§æ»‘åŠ¨æ‰‹æŒ‡ï¼ŒSideDrawer ä¼šå‡ºç°ã€‚å½“ä½ ç‚¹å‡»ä»»ä½•ä¸€ä¸ªæŒ‰é’®æ—¶ï¼ŒSideDrawer ä¼šå…³é—­å¹¶å¯¼èˆªè‡³å¯¹åº”é¡µé¢ã€‚</p>

<h1 id="å…±äº«å¯¼èˆª">å…±äº«å¯¼èˆª</h1>

<h2 id="åˆ†å‰²è·¯ç”±">åˆ†å‰²è·¯ç”±</h2>

<p>åœ¨è¿™ä¸ªé˜¶æ®µè·¯ç”±ä¼šè¢«åˆ†å‰²ä¸ºä¸¤ä¸ªä¸åŒçš„é…ç½®ï¼Œåˆ†åˆ«åº”ç”¨åœ¨ web ç«¯å’Œç§»åŠ¨ç«¯ã€‚</p>

<p>è¿™æ˜¯ä½ å¯åŠ¨ä¸€ä¸ª NativeScript é¡¹ç›®æ—¶ï¼Œå®ƒä¼šå…ˆå±•ç¤º <strong>HomeComponent</strong> çš„åŸå› ã€‚</p>

<blockquote>
<p>åœ¨ä½ å°†ä½ çš„ web ç»„ä»¶è¿ç§»æˆä»£ç å…±äº«ç»“æ„æ—¶ï¼Œè·¯ç”±åˆ†å‰²é€šå¸¸æ˜¯æœ‰ç”¨çš„ã€‚ä¸€æ—¦è¿ç§»å®Œæˆï¼Œä½ å¯ä»¥ä¸ºåŒç«¯é€‰æ‹©ä¸€ä»½å•ä¸€çš„é…ç½®ã€‚</p>

<p>å¹¶ä¸”ï¼Œå¦‚æœä½ å¸Œæœ›ä½ çš„ web app ç›¸æ¯” mobile app æœ‰ä¸åŒçš„é¡µé¢ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸¤å¥—ä¸åŒçš„è·¯ç”±ã€‚æ¯”å¦‚æ˜¯ï¼Œä½ çš„ web app æœ‰ä¸€ä¸ªç®¡ç†é¡µé¢ï¼Œä½† mobile app å¹¶ä¸éœ€è¦ã€‚è¿™ç§æƒ…å†µä¸‹ä½¿ç”¨ä¸¤å¥—å¯¼èˆªé…ç½®æ¯”è¾ƒåˆç†ã€‚</p>
</blockquote>

<p>è¿™ä¸ªé˜¶æ®µåœ¨ä½ è¿ç§»æ¯ä¸ªé¡µé¢ç»„ä»¶æ—¶ï¼Œä½ éœ€è¦åœ¨ <strong>app-routing.module.tns.ts</strong> çš„è·¯ç”±æ•°ç»„é‡Œæ·»åŠ å¯¹åº”çš„å¯¼èˆªè·¯å¾„ã€‚</p>

<h2 id="å…±äº«è·¯ç”±">å…±äº«è·¯ç”±</h2>

<p>è¿™ä¸ªé¡¹ç›®ä½ å¯ä»¥ç®€å•åœ°ä½¿ç”¨åŒä¸€å¥— <strong>routes</strong> é…ç½®ï¼Œåªéœ€è¦å°† <strong>routes</strong> é…ç½®ç§»åˆ°ä¸€ä¸ªå…±äº«çš„æ–‡ä»¶ã€‚</p>

<h3 id="æ­¥éª¤-1-åˆ›å»ºä¸€ä¸ªå…±äº«çš„è·¯ç”±æ–‡ä»¶">æ­¥éª¤ 1 - åˆ›å»ºä¸€ä¸ªå…±äº«çš„è·¯ç”±æ–‡ä»¶ã€‚</h3>

<p>åˆ›å»ºä¸€ä¸ªåä¸º <strong>app.routes.ts</strong> çš„æ–°æ–‡ä»¶ å¹¶å°† <strong>app-routing.module.ts</strong> ä¸­çš„ <strong>routes</strong> æ•°ç»„å¤åˆ¶è¿‡æ¥ã€‚</p>

<p>ç¡®ä¿<strong>å¯¼å‡º</strong>äº†è·¯ç”±ï¼Œç¡®ä¿å¼•å…¥äº†æ‰€æœ‰ç»„ä»¶ã€‚</p>

<p><strong>app.routes.ts</strong></p>

<pre><code>import { Routes } from '@angular/router';
import { HeroesComponent } from './heroes/heroes.component';
import { DashboardComponent } from './dashboard/dashboard.component';
import { HeroDetailComponent } from './hero-detail/hero-detail.component';

export const routes: Routes = [
  {path: '', redirectTo:'/heroes', pathMatch:'full'},
  {path: 'heroes', component: HeroesComponent},
  {path: 'dashboard', component: DashboardComponent},
  {path: 'detail/:id', component: HeroDetailComponent},
];
</code></pre>

<h3 id="step-2-update-both-app-routing-files-with-the-shared-routes-property">Step 2 - Update both <strong>app-routing</strong> files with the shared <strong>routes</strong> property</h3>

<h3 id="æ­¥éª¤-2-ä½¿ç”¨å…±äº«çš„-routes-å±æ€§æ›´æ–°ä¸¤ä¸ª-app-routing-æ–‡ä»¶">æ­¥éª¤ 2 - ä½¿ç”¨å…±äº«çš„ <strong>routes</strong> å±æ€§æ›´æ–°ä¸¤ä¸ª <strong>app-routing</strong> æ–‡ä»¶</h3>

<p>ç”¨ä» <strong>&rsquo;./app.routes&rsquo;</strong> å¼•å…¥çš„ <strong>routes</strong> æ›´æ–°ä¸¤ä¸ª <strong>app-routing</strong> æ–‡ä»¶ä¸­ <strong>routes</strong> çš„å€¼ã€‚ç„¶åæ¸…ç†æ‰æœªä½¿ç”¨çš„å¼•å…¥ã€‚</p>

<p><strong>app-routing.module.ts</strong></p>

<pre><code>import { NgModule } from '@angular/core';
import { RouterModule } from '@angular/router';
import { routes } from './app.routes';

@NgModule({
  imports: [
    RouterModule.forRoot(routes)
  ],
  exports: [
    RouterModule
  ]
})
export class AppRoutingModule { }
</code></pre>

<p><strong>app-routing.module.tns.ts</strong></p>

<pre><code>import { NgModule } from '@angular/core';
import { NativeScriptRouterModule } from 'nativescript-angular/router';
import { routes } from './app.routes';

@NgModule({
  imports: [
    NativeScriptRouterModule.forRoot(routes)
  ],
  exports: [
    NativeScriptRouterModule
  ]
})
export class AppRoutingModule { }
</code></pre>

<p>ç°åœ¨ä½ æœ‰äº†ä¸€ä¸ªåŒç«¯å…±äº«çš„å¯¼èˆªé…ç½®ã€‚</p>

<h1 id="åœ†æ»¡å®Œæˆ">åœ†æ»¡å®Œæˆ</h1>

<p>Congratulations! ä½ æˆåŠŸåœ°å°†è‹±é›„ä¹‹æ—… app è½¬åŒ–ä¸ºè·¨å¹³å°çš„é¡¹ç›®ï¼Œå®ƒå¯ä»¥è¿è¡Œåœ¨ webï¼ŒAndroid å’Œ iOS ä¸Šã€‚
å¦‚æœä½ æƒ³é˜…è¯»æ›´å¤šå…³äºä¸ NativeScript å…±äº«ä»£ç å’Œè¿ç§» web åº”ç”¨çš„èµ„æ–™ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹å®˜æ–¹æ–‡æ¡£ï¼š</p>

<blockquote>
<p><a href="https://docs.nativescript.org/angular/code-sharing/migrating-a-web-project">Migrating a Web Project</a></p>

<p>Credits: This tutorial is created by Sebastian Witalec and partly edited by Stanimira Vlaeva.</p>
</blockquote>

            </div>
        </div>
	</div>
    <div class="pure-u-1-24 pure-u-md-1-6"></div>
</div>

<div class="footer pure-g">
    <div class="pure-u-1-24 pure-u-md-5-24"></div>
    <div class="pure-u-11-12 pure-u-md-5-8">
        <div class="footer-content">
		  <div class="pure-menu pure-menu-horizontal">
              <ul>
			      
                  <li class="pure-menu-heading" id="foot-name">Jader Tao:</li>
                  
				  
                  
          
                  
                  <li class="pure-menu-item">
                      <a href="https://github.com/JadeTao" class="pure-menu-link">GitHub</a>
                  </li>
                  
          
                  
          
                  
          
                  
          
              </ul>
              <a href="#" class="pure-menu-heading pull-right" id="gototop-btn">â†‘â†‘</a>
          </div>
		  
		</div>
	  </div>
      <div class="pure-u-1-24 pure-u-md-1-6"></div>
</div>


<script src="https://blog.jader.xyz/js/jquery.min.js" type="text/javascript"></script>
<script src="https://blog.jader.xyz/js/jquery.timeago.js" type="text/javascript"></script>
<script type="text/javascript">
  $(function(){
    $("time.timeago").timeago();
  })
  $("#toggle-btn").click(function(){
    $("#toggle-content").toggle();
    if($(this).html() === "â˜°") {
        $(this).html("X")
    } else {
        $(this).html("â˜°")
    }
  });
  $(window).resize(function(){
    if(window.innerWidth > 768) {
      $(".desktop").removeAttr("style");
    }
  });
</script>

</body>
</html>

